<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
  <link rel="stylesheet" href="./static/lib/css//bootstrap.min.css">
  <link rel="stylesheet" href="./static/lib/css/keen-dashboards.css">
  <link rel="stylesheet" href="./static/lib/css/dc.css">
  <link rel="stylesheet" href="./static/css/custom.css">


</head>
<body class="application">

  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="./">Student Travelling time Dashboard</a>
      </div>
    </div>
  </div>

  <div class="container-fluid">

    <div class="row">

      <div class="col-sm-6">
        <div class="row">

          
          <div class="col-sm-6">
            <div class="chart-wrapper">
              <div class="chart-title">
                College records
                  <script type="text/javascript">
                document.write("javascript");

                queue()
                .defer(d3.json,"/data")
                .await(makeGraphs)

                function makeGraphs(error,jsondata){

                var w = 1000,
                h = 400;

                var svg = d3.select('#chart') 
                      .append("svg")
                      .attr("width",w)
                      .attr("height",h);

                var data = salgsData;

                var max_n = 0;
                for (var d in data) {
                      max_n = Math.max(data[d].n, max_n);
                    }
                  
                var dx = w / max_n;
                var dy = h / data.length;
                

                // bars
                    var bars = svg.selectAll(".bar")
                      .data(data)
                      .enter()
                      .append("rect")
                      .attr("class", function(d, i) {return "bar " + d.School;})
                      .attr("x", function(d, i) {return 0;})
                      .attr("y", function(d, i) {return dy*i;})
                      .attr("width", function(d, i) {return dx*d.Avg_time})
                      .attr("height", dy);
                
                    // labels
                    var text = svg.selectAll("text")
                      .data(data)
                      .enter()
                      .append("text")
                      .attr("class", function(d, i) {return "label " + d.School;})
                      .attr("x", 5)
                      .attr("y", function(d, i) {return dy*i + 15;})
                      .text( function(d) {return d.label + " (" + d.Avg_time  + ")";})
                      .attr("font-size", "15px")
                      .style("font-weight", "bold");

                }
              </script>

              </div>
              <div class="chart-stage">
                <div id="#chart"></div>
              </div>
            </div>
          </div>
          

          
          
          

        </div>
      </div>

      
     
      
    </div>

  </div>

    <hr>
    <p class="small text-muted">Built with &#9829; by <a href="https://keen.io">Keen IO</a></p>

  </div>

  <script src="./static/lib/js/jquery.min.js"></script>
  <script src="./static/lib/js/bootstrap.min.js"></script>
  <script src="./static/lib/js/crossfilter.js"></script>
  <script src="./static/lib/js/d3.js"></script>
  <script src="./static/lib/js/dc.js"></script>
  <script src="./static/lib/js/queue.js"></script>


  <script src="./static/lib/js/keen.min.js"></script>
  <script src='./static/js/graph.js' type='text/javascript'></script>
</body>
</html>
